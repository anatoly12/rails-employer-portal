<%= render "common/gradient_with_fingerprints" do %>
  <h1 class="text-xl font-semibold py-1 leading-none tracking-wide md:text-3xl"><%= current_context.account.first_name %>'s Dashboard</h1>
<% end %>
<div class="container mx-auto px-4">
  <%= render "employees/charts" %>
  <div class="flex flex-col items-start mt-4 -mx-2 md:flex-row md:justify-end">
    <%= link_to({ action: :new }, class: "#{secondary_button_class(:blue)} flex items-center mb-4 mx-2") do %>
      <%= render "icon/add_outline", icon_class: "h-3 w-3 mr-2" %>
      <span>Add New</span>
    <% end %>
    <%= link_to({ action: :bulk_import }, class: "#{secondary_button_class(:blue)} flex items-center mb-4 mx-2") do %>
      <%= render "icon/add_outline", icon_class: "h-3 w-3 mr-2" %>
      <span>Bulk Upload</span>
    <% end %>
    <%= link_to({ action: :delete_all }, method: :delete, class: "#{secondary_button_class(:red)} flex items-center mb-4 mx-2") do %>
      <%= render "icon/close_outline", icon_class: "h-3 w-3 mr-2" %>
      <span>Delete all</span>
    <% end %>
  </div>
  <table class="w-full table-fixed">
    <thead>
      <tr class="text-left text-xs">
        <th class="px-2 w-8"></th>
        <th class="px-2 py-4">Employee Name</th>
      </tr>
    </thead>
    <tbody>
      <% @employees.each do |employee| %>
        <tr class="border-t border-black">
          <td class="px-2 w-8 text-center">
            <%= render "icon/exclamation_solid", icon_class: "h-4 w-4 text-orange-500" %>
          </td>
          <td class="px-2 py-4 truncate">
            <%= link_to employee.full_name, employee_path(employee), class: "underline hover:text-blue-500" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="my-4">
    <%== render partial: "common/pagination", locals: {pagy: @pagy} %>
  </div>
</div>
